# 网页访问控制扩展

一个功能强大的Chrome扩展，支持网站访问控制和访问时间统计。

## 功能特性

### 🚫 访问控制
- 支持黑名单网站设置
- 时间限制功能（可设置特定时间段禁止访问）
- 按星期几设置规则
- 密码保护设置

<!-- ### 📊 访问统计
- 自动分类网站（社交媒体、娱乐、工作学习、购物、新闻资讯、其他）
- 实时跟踪访问时间
- 可视化饼图显示时间占比
- 详细分类统计信息
- 支持重置统计数据 -->

## 网站分类

扩展会自动将访问的网站分为以下类别：

| 分类 | 包含网站示例 |
|------|-------------|
| 社交媒体 | 微博、知乎、B站、Facebook、Twitter、Instagram |
| 娱乐 | YouTube、腾讯视频、优酷、爱奇艺、TikTok |
| 工作学习 | GitHub、百度、Google、Stack Overflow、Wikipedia |
| 购物 | 淘宝、京东、亚马逊、天猫、拼多多 |
| 新闻资讯 | 新浪、搜狐、网易、CNN、BBC |
| 其他 | 未分类的网站 |

## 安装方法

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 扩展安装完成

## 使用方法

### 基本使用
1. 点击浏览器工具栏中的扩展图标
2. 查看当前状态和访问统计
3. 点击"设置"按钮进入详细配置

### 访问控制设置
1. 在设置页面中设置密码
2. 添加黑名单网站域名
3. 设置时间限制（开始时间、结束时间、星期几）
4. 保存设置

### 查看统计
1. 点击扩展图标查看实时统计
2. 观察饼图了解各分类时间占比
3. 查看详细分类统计信息
4. 可点击"重置"按钮清空统计数据

## 文件结构

```
extension/
├── manifest.json          # 扩展配置文件
├── background.js          # 后台脚本（核心逻辑）
├── popup/
│   ├── popup.html        # 弹出窗口界面
│   ├── popup.css         # 弹出窗口样式
│   └── popup.js          # 弹出窗口脚本
├── options/
│   ├── options.html      # 设置页面
│   ├── options.css       # 设置页面样式
│   └── options.js        # 设置页面脚本
├── icons/                # 扩展图标
├── blocked.html          # 被阻止访问页面
├── blocked.js            #
└── test.html             # 功能测试页面
```

## 技术实现

### 核心功能
- **网站分类**: 基于域名匹配的自动分类系统
- **时间跟踪**: 监听标签页和窗口事件，精确计算访问时间
- **数据存储**: 使用Chrome Storage API持久化存储
- **实时更新**: 定期刷新统计数据，确保准确性

### 事件监听
- `chrome.tabs.onActivated`: 标签页切换
- `chrome.tabs.onUpdated`: 页面加载完成
- `chrome.tabs.onRemoved`: 标签页关闭
- `chrome.windows.onFocusChanged`: 窗口焦点变化

### 数据统计
- 访问时间累计
- 访问次数统计
- 分类占比计算
- 实时会话跟踪

## 隐私说明

- 扩展只收集访问的网站域名和访问时间
- 数据仅存储在本地浏览器中
- 不会向任何服务器发送数据
- 可随时重置或删除统计数据

## 测试方法

1. 打开 `test.html` 文件
2. 点击不同类别的测试链接
3. 在每个网站停留一段时间
4. 查看扩展统计结果

## 更新日志

### v1.0
- 基础访问控制功能
- 网站分类统计
- 可视化饼图
- 实时时间跟踪

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个扩展！ 